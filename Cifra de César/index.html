<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset= "utf-8">
<style>
    body{
        background-image: url('https://static3.tcdn.com.br/img/img_prod/597409/folha_de_eva_listrado_arco_iris_40x48_2mm_pacote_com_10_un_4471_1_20211220175609.jpg');
        background-repeat: repeat;
    }
    #cf{
                background-color: rgb(12, 224, 12);
                padding-top: 3px;
                padding-right: 1px;
                padding-bottom: 3px;
                padding-left: 1px;
            }
            #df{
                background-color: rgb(12, 224, 12);
                padding-top: 3px;
                padding-right: 1px;
                padding-bottom: 3px;
                padding-left: 1px;
            }    

    .bola-giratoria1 {
  width: 100px;
  height: 100px;
  background-color: red;
  background-image: url('https://images-eds-ssl.xboxlive.com/image?url=wHwbXKif8cus8csoZ03RWwcxuUQ9WVT6xh5XaeeZD01lYI1.K4gGf7cqlZ1YM_tmpeVl.wBeN1iRA9Wb44Yl627YUF.t0NRyaps6lcJ2A1ugEJe2vQ62SP9urp1F6nkGBUPvpGJseNz0AsIiNDQz3Y8oEpZ4xqntGtb2.x3KwICR8gUkaQ19KHFlkMpMqDcH&format=jpg&h=253&w=253');
  background-size: cover;
  position: relative;
  top: 0%;
  left: 42%;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  animation: rotacao 5s linear infinite;
}

@keyframes rotacao {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.bola-giratoria2 {
  width: 100px;
  height: 100px;
  background-color: rgb(0, 0, 255);
  background-image: url('https://images-eds-ssl.xboxlive.com/image?url=wHwbXKif8cus8csoZ03RW_ES.ojiJijNBGRVUbTnZKsoCCCkjlsEJrrMqDkYqs3MuY70FypaPAo1O0mxMTT_MVjiXllaudIqiOdVieeNMSf_g6QLiCSTDMqreCZ.F7QmBl5sgH9.3w4OHz1VqcuewB6ZjJl_32bKyTeQp22qyjo-&format=jpg&h=253&w=253');
  background-size: cover;
  position: relative;
  top: 60%;
  left: 40%;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  animation: rotacao 5s linear infinite;
}

@keyframes rotacao {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
</style>
<html>

<head>
    <title id = "titulo">Cifra de César</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
</head>

<body>
    <div class="container"> 
        <h1 class="text-center"; id = "cf">Cifra de César</h1>
        <form>
            <div class="form-group">
                <label for="plaintext">Digite a mensagem a ser cifrada:</label>
                <input type="text" class="form-control" id="plaintext">
            </div>
            <div class="form-group">
                <label for="key">Digite a chave para a cifra (1-26):</label>
                <input type="number" class="form-control" id="key">
            </div>
            <div class="form-group text-center">
                <button class="btn btn-primary" onclick="cipher(); return false;">Cifrar</button>
                <button class="btn btn-secondary" onclick="clearForm()">Limpar</button>
            </div>
            <div class="form-group text-center">
                <p id="output"></p>
            </div>

            <p>
            </p>
            <div style="display: inline-block" class="bola-giratoria2"></div>
            <div style="display: inline-block" class="bola-giratoria1"></div>            
            <h3>Colaboradores:</h3>
            <div>
            <a href="https://github.com/Luccs3003">Luccs</a>
            </div>
            <a href="https://github.com/Rodriggrr">Rodriggrr</a>
            <p>ChatGpt</p>
            <script>
                function caesarCipher(plaintext, key) {
                    var ciphertext = "";
                    for (var i = 0; i < plaintext.length; i++) {
                        var c = plaintext.charCodeAt(i);
                        if (c >= 65 && c <= 90) {
                            // é uma letra maiúscula
                            c = ((c - 65 + key) % 26) + 65;
                        } else if (c >= 97 && c <= 122) {
                            // é uma letra minúscula
                            c = ((c - 97 + key) % 26) + 97;
                        }
                        ciphertext += String.fromCharCode(c);
                    }
                    return ciphertext;
                }
                function caesarDecipher(ciphertext, key) {
                var plaintext = "";
                for (var i = 0; i < ciphertext.length; i++) {
                var c = ciphertext.charCodeAt(i);
                if (c >= 65 && c <= 90) {
                // é uma letra maiúscula
                c = ((c - 65 - key + 26) % 26) + 65;
                } else if (c >= 97 && c <= 122) {
                // é uma letra minúscula
                 c = ((c - 97 - key + 26) % 26) + 97;
                }
                plaintext += String.fromCharCode(c);
                }
                return plaintext;
}

                function cipher() {
                    var plaintext = document.getElementById("plaintext").value;
                    var key = parseInt(document.getElementById("key").value);
                    var ciphertext = caesarCipher(plaintext, key);
                    document.getElementById("output").innerHTML = "Texto cifrado: " + ciphertext;
                }
                function clearForm() {
                    document.getElementById("plaintext").value = "";
                    document.getElementById("key").value = "";
                    document.getElementById("output").innerHTML = "";
                }
                function decipher() {
                var ciphertext = document.getElementById("ciphertext").value;
                var key = parseInt(document.getElementById("key").value);
                var plaintext = caesarDecipher(ciphertext, key);
                document.getElementById("output").innerHTML = "Texto decifrado: " + plaintext;
                }
                // Script do background:
                            // Obtém o elemento
            var element = document.getElementById("cf");
            // Define as cores iniciais
            var red = 0;
            var green = 0;
            var blue = 0;
            // Define a direção de mudança
            var redDirection = 1;
            var greenDirection = 2;
            var blueDirection = 3;
            // Define a velocidade de mudança
            var speed = 5;

            // Função que muda a cor de fundo
            function changeColor() {
                // Aumenta ou diminui a cor
                red += redDirection * speed;
                green += greenDirection * speed;
                blue += blueDirection * speed;

                // Verifica se alcançou o limite
                if (red >= 255 || red <= 0) {
                    redDirection *= -1;
                }
                if (green >= 255 || green <= 0) {
                    greenDirection *= -1;
                }
                if (blue >= 255 || blue <= 0) {
                    blueDirection *= -1;
                }

                // Aplica a nova cor
                element.style.backgroundColor = "rgb(" + red + ", " + green + ", " + blue + ")";
            }

            // Chama a função de forma recorrente
            setInterval(changeColor, 50);
            </script>
        </form>
        <body>
            <h2 class="text-center";id = "df">Decifrador:</h2>
            <form>
                <div class="form-group">
                    <label for="plaintext2">Digite a mensagem a ser decifrada:</label>
                    <input type="text" class="form-control" id="plaintext2">
                </div>
                <div class="form-group">
                    <label for="key2">Digite a chave da cifra (1-26):</label>
                    <input type="number" class="form-control" id="key2">
                </div>
                <div class="form-group text-center">
                    <button class="btn btn-primary" type = "button" onclick="getVar(); return false;">Decifrar</button>
                </div>
                <div class="form-group text-center">
                    <p id="output2"></p>
                </div>
        

        <script>
            function check_letter(c){
                if((c >= 65 && c <= 90) || (c >= 97 && c <= 122))
                    return true;
                return false;
            }

            function move_letter(c, key){
                var cInt = c.charCodeAt(0);
                console.log(cInt);
                cInt -= key;
                if(!check_letter(cInt)){
                    cInt += 26;
                }

                console.log(String.fromCharCode(cInt))
                return String.fromCharCode(cInt);

            }

            function decipher(plaintext2, key2){
                console.log(plaintext2);
                var decipherText = ""
                for(var i = 0; i < plaintext2.length; i++){
                    if(plaintext2[i] != " ")
                        decipherText += move_letter(plaintext2[i], key2);
                    else
                        decipherText += " ";
                }
                return decipherText;
            }

            function getVar()
            {
                var plaintext2 = document.getElementById("plaintext2").value;
                var key2 = document.getElementById("key2").value;
                var deciphertext = decipher(plaintext2, key2);
                document.getElementById("output2").innerHTML = "Texto decifrado: " + deciphertext;
            }
        </script>
        
        </body>